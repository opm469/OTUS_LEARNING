
# Развертывание коммутируемой сети с резервными каналами  
## Топология  
![image](https://github.com/user-attachments/assets/508cf7e7-32c2-4a2c-9a98-2ab5baf0b7de)  
## Таблица адресации  
Устройство | Интерфейс | IP-адрес | Маска подсети 
-----  | ---- | ----- | -----
S1 | VLAN 1 | 192.168.1.1 | 255.255.255.0 
S2 | VLAN 1 | 192.168.1.2 | 255.255.255.0 
S3 | VLAN 1 | 192.168.1.3 | 255.255.255.0 
## Задачи 
* Создание сети и насторойка основных параметров устройства  
* Выбор корневого моста  
* Наблюдение за процессом выборп протоколом STP порта, исходя из стоимости портов
* Наблюдение за процессом выборп протоколом STP порта, исходя из приоритета портов
## Настройка базовых параметров коммутатора  
![image](https://github.com/user-attachments/assets/4b25fa25-bb9d-4d67-9ea3-78127555d998)  
![image](https://github.com/user-attachments/assets/789feaf2-35c3-4f20-a1e1-cc8fec71c634)  
## Провера связи  
Успешно ли выполняется эхо-запрос от коммутатора S1 на коммутатор S2?  _Да_  
![image](https://github.com/user-attachments/assets/c75fbd5c-58a3-479a-9637-4e13fd7ab870)  
Успешно ли выполняется эхо-запрос от коммутатора S1 на коммутатор S3?  _Да_  
![image](https://github.com/user-attachments/assets/6713c600-30b1-4833-bee5-3b5e2dd7dca6)  
Успешно ли выполняется эхо-запрос от коммутатора S2 на коммутатор S3?  _Да_  
![image](https://github.com/user-attachments/assets/4fc71aa5-be1e-4fde-819a-cb413aa54255)  
## Определение корневого моста  
![image](https://github.com/user-attachments/assets/aa526df3-70bd-4816-88c0-b72d610cec97)
![image](https://github.com/user-attachments/assets/f9e22512-9d47-48d8-8ad3-b28bd69972ce)  
![image](https://github.com/user-attachments/assets/05680c0f-1810-4917-a958-b25f10a43764)  
![image](https://github.com/user-attachments/assets/b23c7b15-322b-4ac1-878d-002d95aba34d)  
Какой коммутатор является корневым мостом?  
_S1_   
Почему этот коммутатор был выбран протоколом spanning-tree в качестве корневого моста?  
_Так как приоритеты у все коммутаторов равны 32769, то S1 был выбрна по следующему параметру, наименьшему MAC-адресу устройства_  
Какие порты на коммутаторе являются корневыми портами?  
_На S2 Fa0/2, на S3 Fa0/4_  
Какие порты на коммутаторе являются назначенными портами?  
_На S1 все порты, на S3 Fa0/2_  
Какой порт отображается в качестве альтернативного и в настоящее время заблокирован?  
_На S2 Fa0/4_  
Почему протокол spanning-tree выбрал этот порт в качестве невыделенного (заблокированного) порта  
_Одна из причин пердотвращение петли в сети. Так же после определения корневого моста, все его порты становятся назначенными (designated) и переходят с состояние передачи (forwarding). Далее выбиратся корневые порты на всех коммутаторах, а порты которые являюся ни корневым, ни назначенным, они становятся невыделенными (blocked). Эти порты не передают трафик, чтобы избежать петель в сети._

## Изменяем стоимость порта  
![image](https://github.com/user-attachments/assets/14dabdad-c5e6-4dfa-ba26-be3fb6ebf04c)
![image](https://github.com/user-attachments/assets/4eaa54e0-cf6d-4d65-9f08-c1c28e779bb0)   
Почему протокол spanning-tree заменяет ранее заблокированный порт на назначенный порт и блокирует порт, который был назначенным портом на другом коммутаторе?  
_Когда мы поменяли стоимость, STP пересчитывает роли портов. В результате порт, на S2 Fa0/4, стал назанченным, а Fa0/2 на S3 стал заболокированным. Это происходит для единственного активного пути к корневому коммутатору и предотвращения петель_
## Удаляем изменения стоимости порта   
![image](https://github.com/user-attachments/assets/48be23a5-2d17-4cd6-817d-b1d8e0e484fc)
## Наблюдаем за процессом выбора протоколом STP порта, исходя из приоритета портов  
![image](https://github.com/user-attachments/assets/fffff7b6-db15-492b-8189-254af2d7e425)
![image](https://github.com/user-attachments/assets/52d1c7e9-b115-4958-96e7-c59de77d3e49)  
Какой порт выбран протоколом STP в качестве порта корневого моста на каждом коммутаторе некорневого моста?  
_На S2 Fa0/1_  
![image](https://github.com/user-attachments/assets/34349ba0-8678-476f-a02c-76a257cfdae2)   
_На S3 Fa0/3_  
![image](https://github.com/user-attachments/assets/66aca7aa-f693-4ceb-a251-daeacd82f723)  
Почему протокол STP выбрал эти порты в качестве портов корневого моста на этих коммутаторах?  
_Из-за более низкого приоритета порта_  


Какое значение протокол STP использует первым после выбора корневого моста, чтобы определить выбор порта?  
_Стоимость к корневому коммутатору (Root Path Cost)_  
Если первое значение на двух портах одинаково, какое следующее значение будет использовать протокол STP при выборе порта?  
_Идентификатор моста (Bridge ID) и MAC-адрес_   
Если оба значения на двух портах равны, каким будет следующее значение, которое использует протокол STP при выборе порта?  
_идентификатор порта (Port ID)_
